{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Nova Agent Standard - Input",
  "type": "object",
  "required": ["client_id", "agent_id", "context", "payload"],
  "properties": {
    "client_id": {
      "type": "string",
      "description": "Unique ID or slug for the client"
    },
    "agent_id": {
      "type": "string",
      "description": "The specific Nova agent handling the request"
    },
    "context": {
      "type": "object",
      "required": ["memory", "tools", "vector_sources"],
      "properties": {
        "memory": {
          "type": "object",
          "description": "Key-value memory store for this client/agent"
        },
        "tools": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of available tools for this agent"
        },
        "vector_sources": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Names of vector databases or datasets available"
        }
      }
    },
    "payload": {
      "type": "object",
      "required": ["input_text", "metadata"],
      "properties": {
        "input_text": {
          "type": "string",
          "description": "The actual query, instruction, or task for the agent"
        },
        "metadata": {
          "type": "object",
          "required": ["channel", "timestamp", "language"],
          "properties": {
            "channel": {
              "type": "string",
              "description": "Source of the input (e.g., web, whatsapp, email)"
            },
            "timestamp": {
              "type": "string",
              "format": "date-time",
              "description": "ISO8601 timestamp of when the input was received"
            },
            "language": {
              "type": "string",
              "description": "Language code (e.g., en, fr, es)"
            }
          }
        }
      }
    }
  }
}