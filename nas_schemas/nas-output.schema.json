{
  "type": "object",
  "properties": {
    "content": { "type": "string" },
    "type": { "type": "string", "enum": ["NAS_OUTPUT"] },
    "scratchpad": { "type": "array", "items": { "type": "string" } },
    "memory": {
      "type": "object",
      "properties": {
        "messages": { "type": "array", "items": { "type": "object" } },
        "usedTokens": { "type": "number" }
      },
      "required": ["messages", "usedTokens"]
    },
    "toolRequest": {
      "anyOf": [
        { "type": "null" },
        {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "params": { "type": "object" }
          },
          "required": ["name", "params"]
        }
      ]
    },
    "finalAnswer": {
      "anyOf": [{ "type": "null" }, { "type": "string" }]
    }
  },
  "required": [
    "content",
    "type",
    "scratchpad",
    "memory",
    "toolRequest",
    "finalAnswer"
  ]
}
